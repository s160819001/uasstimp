{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { Text, Button, ListItem, Avatar, Dialog } from '@rneui/base';\nimport React, { Component } from \"react\";\nimport style from \"../assets/style\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Leaderboard = function (_React$Component) {\n  _inherits(Leaderboard, _React$Component);\n\n  var _super = _createSuper(Leaderboard);\n\n  function Leaderboard() {\n    var _this;\n\n    _classCallCheck(this, Leaderboard);\n\n    _this = _super.call(this);\n\n    _this.fetchData = function () {\n      try {\n        fetch('https://ubaya.fun/react/160819001/leaderboard.php').then(function (response) {\n          return response.json();\n        }).then(function (resjson) {\n          _this.setState(_this.state = {\n            tes: resjson.result,\n            data: resjson.data,\n            is_fetch: true\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    _this.state = {\n      tes: \"Menunggu API\",\n      data: [],\n      privasi: 0,\n      check: true,\n      is_fetch: false\n    };\n\n    _this.fetchData();\n\n    return _this;\n  }\n\n  _createClass(Leaderboard, [{\n    key: \"sensorname\",\n    value: function sensorname(firstName, lastName, privasi) {\n      if (privasi == 1) {\n        var newFirstName = \"\";\n        var newLastName = \"\";\n        newFirstName = firstName.substring(0, 3);\n\n        if (lastName == null) {\n          newLastName = \"\";\n        }\n\n        for (var i = 0; i < firstName.length; i++) {\n          if (i > 2) {\n            newFirstName += \"*\";\n          }\n        }\n\n        if (lastName != null) {\n          for (var i = 0; i < lastName.length; i++) {\n            newLastName += \"*\";\n          }\n        }\n\n        console.log(newFirstName + \" \" + newLastName);\n        return newFirstName + \" \" + newLastName;\n      } else if (privasi == 0 && lastName != null) {\n        return firstName + \" \" + lastName;\n      } else if (privasi == 0 && lastName == null) {\n        return firstName;\n      }\n    }\n  }, {\n    key: \"showdata\",\n    value: function showdata(data) {\n      var _this2 = this;\n\n      return _jsx(FlatList, {\n        data: data,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsxs(ListItem, {\n            containerStyle: style.listitem,\n            children: [_jsx(Avatar, {\n              rounded: true,\n              size: 'medium',\n              source: {\n                uri: item.avatar\n              }\n            }), _jsxs(ListItem.Content, {\n              style: {\n                position: 'relative',\n                flexDirection: 'row',\n                alignItems: 'center'\n              },\n              children: [_jsx(View, {\n                style: {\n                  position: 'absolute',\n                  left: 0\n                },\n                children: _jsx(ListItem.Title, {\n                  style: {\n                    color: '#000'\n                  },\n                  children: _this2.sensorname(item.namadepan, item.namabelakang, item.privasi)\n                })\n              }), _jsxs(View, {\n                style: {\n                  position: 'absolute',\n                  right: 0,\n                  flexDirection: 'row',\n                  alignItems: 'center'\n                },\n                children: [_jsx(Ionicons, {\n                  name: \"heart\",\n                  size: 30,\n                  color: \"#917f54\",\n                  style: {\n                    right: 5\n                  }\n                }), _jsx(ListItem.Title, {\n                  style: {\n                    color: '#000'\n                  },\n                  children: item.totallike\n                })]\n              })]\n            })]\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.state.is_fetch) {\n        this.fetchData();\n        return _jsx(Dialog, {\n          children: _jsx(Dialog.Loading, {})\n        });\n      } else {\n        return _jsx(ScrollView, {\n          style: style.container,\n          refreshControl: _jsx(RefreshControl, {\n            onRefresh: function onRefresh() {\n              try {\n                fetch('https://ubaya.fun/react/160819001/leaderboard.php').then(function (response) {\n                  return response.json();\n                }).then(function (resjson) {\n                  _this3.setState(_this3.state = {\n                    data: resjson.data\n                  });\n                });\n              } catch (error) {\n                console.log(error);\n              }\n            }\n          }),\n          children: this.showdata(this.state.data)\n        });\n      }\n    }\n  }]);\n\n  return Leaderboard;\n}(React.Component);\n\nexport default Leaderboard;","map":{"version":3,"names":["Text","Button","ListItem","Avatar","Dialog","React","Component","style","Ionicons","FlatList","Leaderboard","fetchData","fetch","then","response","json","resjson","setState","state","tes","result","data","is_fetch","error","console","log","privasi","check","firstName","lastName","newFirstName","newLastName","substring","i","length","item","listitem","uri","avatar","position","flexDirection","alignItems","left","color","sensorname","namadepan","namabelakang","right","totallike","container","showdata"],"sources":["C:/Users/CHRIS/Documents/Kuliah/Semester7/STIMP/UAS/ZIP/uasstimp-master/screens/leaderboard.js"],"sourcesContent":["import { View, ScrollView, RefreshControl } from \"react-native\";\nimport { Text, Button, ListItem, Avatar, Dialog } from '@rneui/base';\nimport React, { Component } from \"react\";\nimport style from \"../assets/style\";\nimport Ionicons from 'react-native-vector-icons/Ionicons';\nimport { FlatList } from \"react-native-gesture-handler\";\n\nclass Leaderboard extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            tes: \"Menunggu API\",\n            data: [],\n            privasi: 0,\n            check: true,\n            is_fetch: false\n        }\n        this.fetchData();\n    }\n    fetchData = () => {\n        try {\n            fetch('https://ubaya.fun/react/160819001/leaderboard.php')\n                .then(response => response.json())\n                .then(resjson => {\n                    this.setState(\n                        this.state = {\n                            tes: resjson.result,\n                            //   tes:resjson.data[0].url,\n                            data: resjson.data,\n                            is_fetch: true\n                        })\n                });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    // showdataprivasi(data){\n    //     return <FlatList\n    //     data={data}\n    //     // keyExtractor={(item) => item.id.toString()}\n    //     renderItem={({ item }) => (\n    //         <ListItem\n\n    //         containerStyle={style.listitem}\n    //     >\n\n    //         <ListItem.Content style={{ position: 'relative', flexDirection: 'row', alignItems: 'center' }}>\n    //             <View style={{ position: 'absolute', left: 0 }}>\n    //                 <ListItem.Title style={{ color: '#000', }}>\n    //                 {this.setState(\n    //                     this.state= {\n    //                         privasi:item.privasi})}\n    //                 </ListItem.Title>\n    //             </View>\n    //         </ListItem.Content>\n    //     </ListItem>\n    //     )}/>\n    // }\n\n    sensorname(firstName, lastName, privasi) {\n\n        if (privasi == 1) {\n            var newFirstName = \"\";\n            var newLastName = \"\";\n\n            newFirstName = firstName.substring(0, 3);\n            if (lastName == null) {\n                newLastName = \"\";\n            }\n\n\n\n            for (var i = 0; i < firstName.length; i++) {\n                if (i > 2) {\n                    newFirstName += \"*\";\n                }\n            }\n            if (lastName != null) {\n                for (var i = 0; i < lastName.length; i++) {\n                    newLastName += \"*\";\n                }\n            }\n\n            console.log(newFirstName + \" \" + newLastName);\n            return newFirstName + \" \" + newLastName;\n        } else if (privasi == 0 && lastName != null) {\n            return firstName + \" \" + lastName;\n        } else if (privasi == 0 && lastName == null) {\n            return firstName;\n        }\n    }\n\n    showdata(data) {\n        return <FlatList\n            data={data}\n            // keyExtractor={(item) => item.id.toString()}\n            renderItem={({ item }) => (\n                <ListItem\n\n                    containerStyle={style.listitem}\n                >\n                    <Avatar rounded size={'medium'} source={{ uri: item.avatar }} />\n                    <ListItem.Content style={{ position: 'relative', flexDirection: 'row', alignItems: 'center' }}>\n                        <View style={{ position: 'absolute', left: 0 }}>\n                            <ListItem.Title style={{ color: '#000', }}>\n                                {/* {item.namadepan} {item.namabelakang} */}\n                                {this.sensorname(item.namadepan, item.namabelakang, item.privasi)}\n                            </ListItem.Title>\n                        </View>\n                        <View style={{ position: 'absolute', right: 0, flexDirection: 'row', alignItems: 'center' }}>\n                            <Ionicons\n                                name=\"heart\"\n                                size={30}\n                                color=\"#917f54\"\n                                style={{ right: 5 }}\n                            />\n                            <ListItem.Title style={{ color: '#000', }}>\n                                {item.totallike}\n                            </ListItem.Title>\n                        </View>\n                    </ListItem.Content>\n                </ListItem>\n            )} />\n    }\n\n\n\n    render() {\n        if (!this.state.is_fetch) {\n            this.fetchData();\n            // return <Text>{this.state.tes}</Text>\n            return <Dialog><Dialog.Loading /></Dialog>\n        } else {\n\n            return (\n\n                <ScrollView style={style.container} refreshControl={\n                    <RefreshControl\n                        // refreshing={this.state.refreshing}\n                        onRefresh={() => {\n                            try {\n                                // this.setState({ refreshing: true });\n                                fetch('https://ubaya.fun/react/160819001/leaderboard.php')\n                                    .then(response => response.json())\n                                    .then(resjson => {\n                                        this.setState(\n                                            this.state = {\n                                                // tes: resjson.result,\n                                                //   tes:resjson.data[0].url,\n                                                data: resjson.data,\n                                                // is_fetch: true,\n                                                // refreshing: false\n                                            })\n                                    })\n                            } catch (error) {\n                                console.log(error);\n                            }\n                        }}\n                    />\n                }>\n\n                    {this.showdata(this.state.data)}\n\n                </ScrollView>\n            )\n        }\n    }\n\n}\n\nexport default Leaderboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}